<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<!-- Generated by docgen.get_table_def -->
<title>Table oms.Shop2SupplierDO</title>
<meta charset="UTF-8"/>
<meta name="date" content="2024-06-20"/>
<meta name="oid" content="16994"/>
<link rel="stylesheet" type="text/css" href="../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../dbdoc.css"/>
<script type="text/javascript" src="../script.js"></script>
</head>

<body>

<div class="topNav">
<h1 class="bar">&nbsp;INTERSHOP IOM 5.2.0-SNAPSHOT Database Model&nbsp;&nbsp;&nbsp;(revision 6edb3d8be162fde081a9e6e668ef11ddc3664951)</h1>
</div>

<h1>Table oms.Shop2SupplierDO</h1>
<h5>Define which suppliers are used by the shops and define related properties</h5>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Columns</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">References<superscript>[1]</superscript></th>
<th class="colOne" scope="col">Column</th>
<th class="colOne" scope="col">Type</th>
<th class="colOne" scope="col">Constraints<superscript>[2]</superscript></th>
<th class="colOne" scope="col">Default</th>
<th class="colLast" scope="col">Comment</th>
</tr>

<tr id="1" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>id</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code>PK, UNIQUE, NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code></code>&nbsp;</td>
</tr>

<tr id="2" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>active</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Whether a relation is active or not.</code>&nbsp;</td>
</tr>

<tr id="3" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>modificationDate</code></td>
<td class="colOne"><code>timestamp without time zone</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code></code>&nbsp;</td>
</tr>

<tr id="4" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>reservationTimeInDays</code></td>
<td class="colOne"><code>integer</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Reservation of articles in days at the supplier - should be 0.<br>
			<strong>Note</strong> that reservations are currently not supported by the IOM.</code>&nbsp;</td>
</tr>

<tr id="5" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>shopAccount</code></td>
<td class="colOne"><code>varchar(255)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The user account of the shop for the placement of supplier messages (response, dispatch and return) routed from the supplier to IOM to the shop. <strong>Note</strong> set only if required.</code>&nbsp;</td>
</tr>

<tr id="6" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>shopPassword</code></td>
<td class="colOne"><code>varchar(255)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Password of "shopAccount". <strong>Note</strong> set only if required.</code>&nbsp;</td>
</tr>

<tr id="7" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>shopSupplierName</code></td>
<td class="colOne"><code>varchar(50)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The name of the supplier as used by the the shop.<br>
			<strong>Mandatory</strong> but no constraint exists. Example "SIM supplier - North"</code>&nbsp;</td>
</tr>

<tr id="8" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>splitShipmentAllowed</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Whether splitting an order into multiple shipments is allowed.</code>&nbsp;</td>
</tr>

<tr id="9" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>supplierAccount</code></td>
<td class="colOne"><code>varchar(255)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The user account of the supplier for the placement of order messages routed from the shop to IOM to the supplier. <strong>Note</strong> set only if required.</code>&nbsp;</td>
</tr>

<tr id="10" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>supplierPassword</code></td>
<td class="colOne"><code>varchar(255)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The password of "supplierAccount". <strong>Note</strong> set only if required.</code>&nbsp;</td>
</tr>

<tr id="11" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>supplierShopName</code></td>
<td class="colOne"><code>varchar(50)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The name of the shop as used by the the supplier. Example "SIM"</code>&nbsp;</td>
</tr>

<tr id="12" class="altColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/ShopDO.html">ShopDO</a></span></code></td>
<td class="colOne"><code>shopRef</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The shop of this relation.</code>&nbsp;</td>
</tr>

<tr id="13" class="rowColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/SupplierDO.html">SupplierDO</a></span></code></td>
<td class="colOne"><code>supplierRef</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The supplier of this relation.</code>&nbsp;</td>
</tr>

<tr id="14" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>sendOrderCoupon</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code>false</code></td>
<td class="colLast"><code>Whether existing order coupons of OrderCouponDO are sent to the supplier alongside with the order.</code>&nbsp;</td>
</tr>

<tr id="15" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>supplierSupportsCOD</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code>false</code></td>
<td class="colLast"><code>Whether the supplier supports payment method COD in relation to the shop.<br>
			If FALSE, the supplier is not considered in the DOSE-process for orders with payment method COD.</code>&nbsp;</td>
</tr>

<tr id="16" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>eolDetectionTimeInterval</code></td>
<td class="colOne"><code>integer</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Duration in minutes to determine if a product that was not available at the last successfully imported dynamic data file is set to EOL.<br>
			Example: null = default - 7 days, 0 = The next EOL detection run sets the concerned products to EOL.</code>&nbsp;</td>
</tr>

<tr id="17" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>resetStockOnImport</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code>false</code></td>
<td class="colLast"><code>Whether to set the inventory of a product to 0 if the product is no longer included in the product data files from the supplier.<br>
			Only if the "checkMissingInLastDatapack" of import configuration "ImportConfigurationDO" for the related supplier is TRUE.</code>&nbsp;</td>
</tr>

<tr id="18" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>flatRateShipping</code></td>
<td class="colOne"><code>numeric(15,5)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The flat charge for delivery that is assigned to this relation of shop and supplier.</code>&nbsp;</td>
</tr>

<tr id="19" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>isDropShipment</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code>false</code></td>
<td class="colLast"><code>Whether the supplier provides drop shipment for the shop. <strong>This property has an impact on business processes.</strong> If the property supplierTypeDefRef = 3 of the related supplier, then this property should be TRUE.</code>&nbsp;</td>
</tr>

<tr id="20" class="altColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/CarrierDO.html">CarrierDO</a></span></code></td>
<td class="colOne"><code>returnCarrierRef</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The carrier that is used in the return processes for this relation of shop and supplier.</code>&nbsp;</td>
</tr>

<tr id="21" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>leadCode</code></td>
<td class="colOne"><code>varchar(30)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The lead code of the supplier at the carrier for the return label.</code>&nbsp;</td>
</tr>

<tr id="22" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>useSupplierArticleNoAsShopArticleNo</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Whether the product number of the supplier should be used as the shop product number.<br>
			If TRUE, no further mapping of the upplier product Ids to SKU of the shop is necessary.</code>&nbsp;</td>
</tr>

<tr id="23" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>shopArticleNoPrefix</code></td>
<td class="colOne"><code>varchar(10)</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>The shop product numbers will be created using the supplier product numbers and the prefix value.<br>
			Property "useSupplierArticleNoAsShopArticleNo" must be TRUE to use the prefix.</code>&nbsp;</td>
</tr>

<tr id="24" class="altColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/ProcessStageDefDO.html">ProcessStageDefDO</a></span></code></td>
<td class="colOne"><code>stockReduceModel</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>Defines at which process step the blocked stock get released (the stock get blocked at the supplier assignment step).
Can be set to either 25 (directly after the order is entirely submitted) or 50 (on dispatch).
"on dispatch" is the default behavior when this attribute is null.
This parameter additionally define if and when the stocklevel should be reduced (in ArticleSupplierShopDO):
This reduction only take place when the parameter is not null, again at commision or dispatch time.</code>&nbsp;</td>
</tr>

<tr id="25" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>allowParentStock</code></td>
<td class="colOne"><code>boolean</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code>false</code></td>
<td class="colLast"><code>Allow to consume articles from more than one stock assignment, the looking path uses the shop hierarchy.</code>&nbsp;</td>
</tr></tbody></table>
<p />
[1] Not all references are enforced by a foreign key where they could.<br />
Such &quot;missing&quot; foreign keys are denoted with [[ ]].
<p />
[2] Constraints:<br />
PK : the column is part of the primary key<br />
UNIQUE: does don't cover unique constraints and indexes defined on more than one column.<br />
<p />

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Referenced by</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Schema</th>
<th class="colFirst" scope="col">Foreign Table &amp; Column(s)</th>
<th class="colFirst" scope="col">Referenced Columns</th>
<th class="colLast" scope="col">Constraint Name<superscript>[1]</superscript></th>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>DocumentCreationPropertyDO.(shop2SupplierRef)</code>&nbsp;</td>
<td class="colFirst"><code>Shop2SupplierDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>DocumentCreationPropertyDO_fk_shop2SupplierRef</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>FileType4Shop2SupplierDO.(shop2SupplierRef)</code>&nbsp;</td>
<td class="colFirst"><code>Shop2SupplierDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>fk_FileType4Shop2SupplierDO_shop2SupplierRef</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>PreferredSupplierDO.(shop2SupplierShopRef,shop2SupplierSupplierRef)</code>&nbsp;</td>
<td class="colFirst"><code>Shop2SupplierDO.(shopRef,supplierRef)</code>&nbsp;</td> 
<td class="colLast"><code>shop2SupplierShopRefPreferredSupplierDO</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code><span class="memberNameLink"><a href="../oms/Shop2Supplier2ReduceReasonDO.html">Shop2Supplier2ReduceReasonDO</a></span>.(shop2SupplierRef)</code>&nbsp;</td>
<td class="colFirst"><code>Shop2SupplierDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>Shop2Supplier2ReduceReasonDO_fk_shop2SupplierRef</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code><span class="memberNameLink"><a href="../oms/SupplierReturnAddressDO.html">SupplierReturnAddressDO</a></span>.(shop2SupplierRef)</code>&nbsp;</td>
<td class="colFirst"><code>Shop2SupplierDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>SupplierReturnAddressDO_fk_shop2SupplierRef</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>
<p />
[1] Not all references are enforced by a foreign key where they could.<br />
Such &quot;missing&quot; foreign keys are denoted with &quot;NOT DEFINED&quot;.
<p />

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Triggers</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Name</th>
<th class="colFirst" scope="col">Comment</th>
<th class="colLast" scope="col">Definition</th>
</tr>

<tr class="rowColor">
<td class="colFirst">tg_refresh_stockmapao</code></td>
<td class="colFirst"></code></td>
<td class="colLast"><code>CREATE TRIGGER tg_refresh_stockmapao AFTER INSERT OR DELETE ON "Shop2SupplierDO" FOR EACH STATEMENT EXECUTE FUNCTION tgf_refresh_stockmapao()</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">tg_refresh_stockmapao_u</code></td>
<td class="colFirst"></code></td>
<td class="colLast"><code>CREATE TRIGGER tg_refresh_stockmapao_u AFTER UPDATE OF "shopRef", "supplierRef", active, "allowParentStock" ON "Shop2SupplierDO" FOR EACH STATEMENT EXECUTE FUNCTION tgf_refresh_stockmapao()</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Constraints and Indexes</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Type</th>
<th class="colLast" scope="col">Name</th>
<th class="colLast" scope="col">Definition</th>
</tr>

<tr class="rowColor">
<td class="colFirst">PRIMARY KEY </code></td>
<td class="colFirst">Shop2SupplierDO_pkey</code></td>
<td class="colLast"><code>PRIMARY KEY (id)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">CHECK CONSTRAINT </code></td>
<td class="colFirst">Shop2SupplierDO_ck_stockReduceModel</code></td>
<td class="colLast"><code>CHECK (("stockReduceModel" = ANY (ARRAY[25::bigint, 50::bigint])) OR "stockReduceModel" IS NULL)</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">CHECK CONSTRAINT </code></td>
<td class="colFirst">shop2supplierdo_ck_articl_prefix</code></td>
<td class="colLast"><code>CHECK (
CASE
    WHEN "useSupplierArticleNoAsShopArticleNo" THEN "shopArticleNoPrefix" IS NOT NULL
    ELSE "shopArticleNoPrefix" IS NULL
END)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">UNIQUE CONSTRAINT </code></td>
<td class="colFirst">Shop2SupplierDO_shopRef_key</code></td>
<td class="colLast"><code>UNIQUE ("shopRef", "supplierRef")</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">UNIQUE CONSTRAINT </code></td>
<td class="colFirst">Shop2SupplierDO_shopRef_key1</code></td>
<td class="colLast"><code>UNIQUE ("shopRef", "shopSupplierName")</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">UNIQUE CONSTRAINT </code></td>
<td class="colFirst">Shop2SupplierDO_supplierRef_key</code></td>
<td class="colLast"><code>UNIQUE ("supplierRef", "supplierShopName")</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">Shop2SupplierDO_fk_stockReduceModel</code></td>
<td class="colLast"><code>FOREIGN KEY ("stockReduceModel") REFERENCES "ProcessStageDefDO"(id)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">Shop2SupplierDO_fk_supplierRef</code></td>
<td class="colLast"><code>FOREIGN KEY ("supplierRef") REFERENCES "SupplierDO"(id)</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">fk6969fa5193f1ed6</code></td>
<td class="colLast"><code>FOREIGN KEY ("shopRef") REFERENCES "ShopDO"(id)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">fke070c5326812736</code></td>
<td class="colLast"><code>FOREIGN KEY ("returnCarrierRef") REFERENCES "CarrierDO"(id)</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">Shop2SupplierDO_ix_stockReduceModel</code></td>
<td class="colLast"><code>CREATE INDEX "Shop2SupplierDO_ix_stockReduceModel" ON "Shop2SupplierDO" USING btree ("stockReduceModel")</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">index_Shop2SupplierDO_returnCarrierRef</code></td>
<td class="colLast"><code>CREATE INDEX "index_Shop2SupplierDO_returnCarrierRef" ON "Shop2SupplierDO" USING btree ("returnCarrierRef")</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">index_Shop2SupplierDO_shopRef</code></td>
<td class="colLast"><code>CREATE INDEX "index_Shop2SupplierDO_shopRef" ON "Shop2SupplierDO" USING btree ("shopRef")</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">index_Shop2SupplierDO_supplierRef</code></td>
<td class="colLast"><code>CREATE INDEX "index_Shop2SupplierDO_supplierRef" ON "Shop2SupplierDO" USING btree ("supplierRef")</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>

</body>
</html>

