<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<!-- Generated by docgen.get_table_def -->
<title>Table oms.TaxDO</title>
<meta charset="UTF-8"/>
<meta name="date" content="2024-02-14"/>
<meta name="oid" content="19359"/>
<link rel="stylesheet" type="text/css" href="../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../dbdoc.css"/>
<script type="text/javascript" src="../script.js"></script>
</head>

<body>

<div class="topNav">
<h1 class="bar">&nbsp;INTERSHOP IOM 5.0.0-SNAPSHOT Database Model&nbsp;&nbsp;&nbsp;(revision 8635cd900b5c31eff550a83a29f343bb050ea9bd)</h1>
</div>

<h1>Table oms.TaxDO</h1>
<h5>Tax values and validity per country and type</h5>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Columns</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">References<superscript>[1]</superscript></th>
<th class="colOne" scope="col">Column</th>
<th class="colOne" scope="col">Type</th>
<th class="colOne" scope="col">Constraints<superscript>[2]</superscript></th>
<th class="colOne" scope="col">Default</th>
<th class="colLast" scope="col">Comment</th>
</tr>

<tr id="1" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>id</code></td>
<td class="colOne"><code>bigint</code></td>
<td class="colOne"><code>PK, UNIQUE, NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code></code>&nbsp;</td>
</tr>

<tr id="2" class="altColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/CountryDefDO.html">CountryDefDO</a></span></code></td>
<td class="colOne"><code>countryDefRef</code></td>
<td class="colOne"><code>integer</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code><span class="deprecated">Deprecated</span> since 3.4.0.0. Replaced by location.</code>&nbsp;</td>
</tr>

<tr id="3" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>tax</code></td>
<td class="colOne"><code>numeric(15,5)</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>percent rate (e.g.: 7.5 for 7.5%)</code>&nbsp;</td>
</tr>

<tr id="4" class="altColor">
<td class="colFirst"><code><span class="memberNameLink"><a href="../oms/TaxTypeDefDO.html">TaxTypeDefDO</a></span></code></td>
<td class="colOne"><code>taxTypeDefRef</code></td>
<td class="colOne"><code>integer</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code></code>&nbsp;</td>
</tr>

<tr id="5" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>validFrom</code></td>
<td class="colOne"><code>timestamp without time zone</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>start time rounded to the second, e.g.: '2012-01-01 00:00:00'</code>&nbsp;</td>
</tr>

<tr id="6" class="altColor">
<td class="colFirst"></td>
<td class="colOne"><code>validUntil</code></td>
<td class="colOne"><code>timestamp without time zone</code></td>
<td class="colOne"><code></code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>end time rounded to the second,   e.g.: '2099-12-31 23:59:59'</code>&nbsp;</td>
</tr>

<tr id="7" class="rowColor">
<td class="colFirst"></td>
<td class="colOne"><code>location</code></td>
<td class="colOne"><code>varchar</code></td>
<td class="colOne"><code>NOT_NULL</code></td>
<td class="colOne"><code></code></td>
<td class="colLast"><code>geolocation attached to the tax, e.g. 'DEU', 'Michigan'. For countries it is recommended to use the ISO Code 3 String.</code>&nbsp;</td>
</tr></tbody></table>
<p />
[1] Not all references are enforced by a foreign key where they could.<br />
Such &quot;missing&quot; foreign keys are denoted with [[ ]].
<p />
[2] Constraints:<br />
PK : the column is part of the primary key<br />
UNIQUE: does don't cover unique constraints and indexes defined on more than one column.<br />
<p />

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Referenced by</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Schema</th>
<th class="colFirst" scope="col">Foreign Table &amp; Column(s)</th>
<th class="colFirst" scope="col">Referenced Columns</th>
<th class="colLast" scope="col">Constraint Name<superscript>[1]</superscript></th>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>InvoicingSalesPriceChargeTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>InvoicingSalesPriceChargeTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>InvoicingSalesPricePosTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>InvoicingSalesPricePosTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>InvoicingSalesPriceTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>InvoicingSalesPriceTaxDO_fk_taxRef</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>OrderChargeTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>OrderChargeTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>OrderPosTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>OrderPosTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>OrderSubTotalTaxGroupDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>OrderSubTotalTaxGroupDO_fk_taxRef</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>OrderTotalTaxGroupDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>OrderTotalTaxGroupDO_fk_taxRef</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>PaymentSalesPriceChargeTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>PaymentSalesPriceChargeTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="rowColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>PaymentSalesPricePosTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>PaymentSalesPricePosTaxDO_fk_TaxDO</code>&nbsp;</td>
</tr>

<tr class="altColor"><td class="colFirst colAlignRight"><code>oms</code></td><td class="colFirst"><code>PaymentSalesPriceTaxDO.(taxRef)</code>&nbsp;</td>
<td class="colFirst"><code>TaxDO.(id)</code>&nbsp;</td> 
<td class="colLast"><code>PaymentSalesPriceTaxDO_fk_taxRef</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>
<p />
[1] Not all references are enforced by a foreign key where they could.<br />
Such &quot;missing&quot; foreign keys are denoted with &quot;NOT DEFINED&quot;.
<p />

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Triggers</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Name</th>
<th class="colFirst" scope="col">Comment</th>
<th class="colLast" scope="col">Definition</th>
</tr>

<tr class="rowColor">
<td class="colFirst">check_4_overlapping_taxdos_tr</code></td>
<td class="colFirst">Prevent overlap of validity ranges</code></td>
<td class="colLast"><code>CREATE TRIGGER check_4_overlapping_taxdos_tr BEFORE INSERT OR UPDATE ON "TaxDO" FOR EACH ROW EXECUTE FUNCTION check_4_overlapping_taxdos_trf()</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">taxdo_defaultlocation_tr</code></td>
<td class="colFirst">Fill the "location" to the Country ISO Code 3 when not provided otherwise.</code></td>
<td class="colLast"><code>CREATE TRIGGER taxdo_defaultlocation_tr BEFORE INSERT OR UPDATE ON "TaxDO" FOR EACH ROW EXECUTE FUNCTION taxdo_defaultlocation_trf()</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>

<p/>
<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<h2>Constraints and Indexes</span><span class="tabEnd">&nbsp;</h2>
<tbody>
<tr>
<th class="colFirst" scope="col">Type</th>
<th class="colLast" scope="col">Name</th>
<th class="colLast" scope="col">Definition</th>
</tr>

<tr class="rowColor">
<td class="colFirst">PRIMARY KEY </code></td>
<td class="colFirst">TaxDO_pkey</code></td>
<td class="colLast"><code>PRIMARY KEY (id)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">CHECK CONSTRAINT </code></td>
<td class="colFirst">checkNullTimeRange</code></td>
<td class="colLast"><code>CHECK (num_nulls("validFrom", "validUntil") <> 1)</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">countryDefRefTaxDO</code></td>
<td class="colLast"><code>FOREIGN KEY ("countryDefRef") REFERENCES "CountryDefDO"(id)</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">FOREIGN KEY </code></td>
<td class="colFirst">taxTypeDefRefTaxDO</code></td>
<td class="colLast"><code>FOREIGN KEY ("taxTypeDefRef") REFERENCES "TaxTypeDefDO"(id)</code>&nbsp;</td>
</tr>

<tr class="rowColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">index_TaxDO_countryDefRef</code></td>
<td class="colLast"><code>CREATE INDEX "index_TaxDO_countryDefRef" ON "TaxDO" USING btree ("countryDefRef")</code>&nbsp;</td>
</tr>

<tr class="altColor">
<td class="colFirst">INDEX</code></td>
<td class="colFirst">index_TaxDO_taxTypeDefRef</code></td>
<td class="colLast"><code>CREATE INDEX "index_TaxDO_taxTypeDefRef" ON "TaxDO" USING btree ("taxTypeDefRef")</code>&nbsp;</td>
</tr>
</tr>
</tbody></table>

</body>
</html>

