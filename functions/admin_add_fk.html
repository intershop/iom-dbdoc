<html lang="en"><head>
<!-- Generated by get_function_detail -->
<title>admin.add_fk</title>
<meta charset="UTF-8"/>
<meta name="date" content="2022-11-23"/>
<link rel="stylesheet" type="text/css" href="../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../dbdoc.css"/>
<script type="text/javascript" src="../script.js"></script>
</head>
<body>

<div class="topNav">
<h1 class="bar">&nbsp;Functions</h1>
</div>


<table class="memberSummary" cellspacing="0" cellpadding="3" border="0">
<tbody>
<tr>
<th class="colFirst" scope="col">Function(s) admin.add_fk.</th>
</tr>

<tr id="16399" class="rowColor">
       <td class="colFirst"><h5><div style=" white-space: pre-wrap;">Define a foreign key between table, but only if such a FK between the same column references does not exist yet.
Raise a warning (no exception!) in case of a foreign key violation, in which case the constraint will of course not be generated.
Example:
select admin.add_fk('oms',
                    'PaymentActionApprovalDefDO',
                    ARRAY['paymentNotificationActionDefRef'],
                    'foo',
                    'oms',
                    'PaymentNotificationActionDefDO',
                    ARRAY ['id'],
                    'ON UPDATE NO ACTION ON DELETE NO ACTION');</div></h5>
       <br/><code><div style="white-space: pre-wrap; font-family: monospace;">FUNCTION admin.add_fk
( from_tblsp     text,
  from_table     text,
  from_column_a  text[],
  fk_name        text,
  to_tblsp       text,
  to_table       text,
  to_column_a    text[],
  p_decoration   text DEFAULT ''
) RETURNS boolean
LANGUAGE 'plpgsql' volatile;</div></code>&nbsp;</td>
</tr>
<tr id="30121" class="altColor">
       <td class="colFirst"><h5><div style=" white-space: pre-wrap;">Deprecated, use the new version with the columns passed as array</div></h5>
       <br/><code><div style="white-space: pre-wrap; font-family: monospace;">FUNCTION admin.add_fk
( from_tblsp    text,
  from_table    text,
  from_column   text,
  fk_name       text,
  to_tblsp      text,
  to_table      text,
  to_column     text,
  p_decoration  text DEFAULT ''
) RETURNS boolean
LANGUAGE 'plpgsql' volatile;</div></code>&nbsp;</td>
</tr>
</table>
</body>
</html>

